{% extends 'base.html' %}
{% load static %}
{% block title %}Lobby - VetCare{% endblock %}

{% block content %}
<div class="text-center mb-4">
  <h1 class="fw-bold text-primary">Bienvenido a VetCare üêæ</h1>
  <p class="text-muted">Tu veterinaria de confianza para el cuidado de tus mascotas</p>
</div>

<!-- Carrusel -->
<div id="vetcareCarousel" class="carousel slide shadow-lg rounded" data-bs-ride="carousel" data-bs-interval="4000">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://www.clinicaveterinariadelatorre.com/images/VENTA_DE_PERROS.gif" class="d-block w-100 carousel-gif" alt="Mascotas VetCare">
    </div>
    <div class="carousel-item">
      <img src="https://i.pinimg.com/1200x/13/69/56/136956dbf1df05624486026990eb9645.jpg" class="d-block w-100" alt="Instalaciones VetCare">
    </div>
    <div class="carousel-item">
      <img src="https://i.pinimg.com/1200x/96/86/4f/96864f14641f944f6700457d15b031ab.jpg" class="d-block w-100" alt="Cuidado veterinario">
    </div>
    <div class="carousel-item">
      <img src="https://i.pinimg.com/1200x/12/23/4c/12234c8802736ed3f3b37adc48741fd8.jpg" class="d-block w-100" alt="Mascotas felices">
    </div>
    <div class="carousel-item">
      <img src="https://i.pinimg.com/736x/70/55/e0/7055e0072d6076790dd165ffa00e4577.jpg" class="d-block w-100" alt="Equipo VetCare">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#vetcareCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#vetcareCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Estilos para que todas las im√°genes del carrusel tengan el mismo tama√±o y comportamiento -->
<style>
  /* Ajusta la altura y hace que las im√°genes cubran todo el √°rea (recortando si es necesario) */
  #vetcareCarousel .carousel-item img {
    height: 500px; /* mayor altura para que el GIF se vea m√°s grande */
    width: 100%;
    object-fit: cover; /* cubre todo el contenedor, recortando si hace falta */
    border-radius: 15px;
    background-color: white;
  }

  /* Para el GIF principal: mostrarlo completo sin recortar */
  #vetcareCarousel .carousel-item img.carousel-gif {
    object-fit: contain; /* muestra todo el GIF */
    object-position: center; /* centra el GIF dentro del contenedor */
    background-color: white;
  }

  /* Mejor comportamiento responsivo: en pantallas medianas y peque√±as reducir la altura */
  @media (max-width: 992px) {
    #vetcareCarousel .carousel-item img {
      height: 360px;
    }
  }

  @media (max-width: 576px) {
    #vetcareCarousel .carousel-item img {
      height: 260px;
    }
  }
</style>

<!--  Presentaci√≥n de VetCare -->
<section class="mt-5 text-center">
  <h2 class="fw-bold text-success">Hola, somos el equipo de VetCare </h2>
  <p class="mt-3 text-muted px-5">
    En VetCare creemos que cada mascota merece amor, cuidado y atenci√≥n profesional. Nuestro compromiso es brindar servicios veterinarios integrales con pasi√≥n y empat√≠a, asegurando el bienestar de quienes llenan de alegr√≠a tus d√≠as. 
    Nos enorgullece ofrecer un espacio c√°lido, moderno y seguro, donde la confianza y la salud animal son nuestra prioridad. 
    Contamos con personal altamente capacitado, equipos de √∫ltima tecnolog√≠a y productos de calidad para garantizar la mejor experiencia a nuestros pacientes peludos y sus familias. 
  </p>
</section>

<!--  Misi√≥n y Visi√≥n -->
<section class="container mt-5">
  <div class="row text-center">
    <div class="col-md-6">
      <div class="card shadow-sm border-0 p-4 h-100">
        <h3 class="text-primary mb-3">Nuestra Misi√≥n</h3>
        <p>Proporcionar servicios veterinarios de excelencia que promuevan la salud, felicidad y calidad de vida de las mascotas, fortaleciendo el v√≠nculo entre humanos y animales con √©tica, amor y responsabilidad.</p>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow-sm border-0 p-4 h-100">
        <h3 class="text-success mb-3">Nuestra Visi√≥n</h3>
        <p>Ser reconocidos como la red veterinaria l√≠der en el pa√≠s por nuestra innovaci√≥n, atenci√≥n humanizada y compromiso con el bienestar animal y ambiental, creando una comunidad m√°s consciente y solidaria.</p>
      </div>
    </div>
  </div>
</section>

<!-- Tabs -->
<div class="container mt-5">
  <ul class="nav nav-tabs justify-content-center" id="vetcareTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="rese√±as-tab" data-bs-toggle="tab" data-bs-target="#rese√±as" type="button" role="tab">Rese√±as</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab">M√°s informaci√≥n</button>
    </li>
  </ul>

  <div class="tab-content mt-4">
    <!-- Rese√±as -->
    <div class="tab-pane fade show active" id="rese√±as" role="tabpanel">
      <h3 class="text-center text-success mb-4">Rese√±as de nuestros clientes</h3>
      
      {% if user.is_authenticated %}
        <!-- Formulario de rese√±a -->
        <div class="card mb-4 shadow-sm border-0">
          <div class="card-body p-4">
            <h5 class="card-title"><i class="fas fa-comment-dots me-2"></i>Comparte tu experiencia</h5>
            <form method="POST" action="{% url 'lobby' %}" class="mt-3">
              {% csrf_token %}
              <div class="mb-3">
                {{ review_form.contenido }}
              </div>
              <div class="mb-3">
                <label for="{{ review_form.calificacion.id_for_label }}" class="form-label">
                  <i class="fas fa-star me-2 text-warning"></i>Calificaci√≥n
                </label>
                {{ review_form.calificacion }}
              </div>
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane me-2"></i>Enviar rese√±a
              </button>
            </form>
          </div>
        </div>
      {% endif %}

      <!-- Lista de rese√±as -->
      <div class="row g-4">
        {% for review in reviews %}
          <div class="col-md-4">
            <div class="card shadow-sm border-0 p-3 h-100">
              <p>{{ review.contenido }}</p>
              <div class="text-warning">
                {% for i in ""|ljust:review.calificacion %}‚≠ê{% endfor %}
              </div>
              <div class="text-end">
                <h6 class="text-primary mb-1">‚Äì {{ review.usuario.get_full_name|default:review.usuario.username }}</h6>
                <small class="text-muted">{{ review.fecha_creacion|date:"d/m/Y" }}</small>
                {% if user == review.usuario or user.is_staff %}
                  <form method="post" action="{% url 'delete_review' review.id %}" class="d-inline mt-2">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-sm btn-outline-danger">
                      <i class="fas fa-trash"></i> Eliminar
                    </button>
                  </form>
                {% endif %}
              </div>
            </div>
          </div>
        {% empty %}
          <div class="col-12">
            <div class="card shadow-sm border-0 p-4">
              <p class="text-center mb-0">
                <i class="fas fa-comment-dots me-2"></i>
                No hay rese√±as a√∫n. ¬°S√© el primero en compartir tu experiencia!
              </p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>

    <!-- ‚Ñπ M√°s informaci√≥n -->
    <div class="tab-pane fade" id="info" role="tabpanel">
      <h3 class="text-center text-info mb-4">M√°s informaci√≥n</h3>
      <div class="text-center">
        <p><strong>Tel√©fono de contacto:</strong> +57 310 456 7890</p>
        <p><strong>Correo electr√≥nico:</strong> contacto@vetcare.com</p>

        <h5 class="mt-4">üìç Ciudades donde estamos disponibles:</h5>
        <p>Monter√≠a, Bogot√°, Medell√≠n, Cali, Bucaramanga, Cartagena</p>

        <h5 class="mt-4">üåê S√≠guenos en redes sociales:</h5>
        <div class="d-flex justify-content-center gap-3 mt-3">
          <a href="#" class="btn btn-outline-primary"><i class="bi bi-facebook"></i> Facebook</a>
          <a href="#" class="btn btn-outline-info"><i class="bi bi-twitter"></i> Twitter</a>
          <a href="#" class="btn btn-outline-danger"><i class="bi bi-instagram"></i> Instagram</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
  .card {
    transition: transform 0.2s ease-in-out;
  }
  .card:hover {
    transform: scale(1.03);
  }
  section p {
    font-size: 1.05rem;
    line-height: 1.7;
  }
</style>

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
{% endblock %}


